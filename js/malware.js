/* This is an example plugin to show you
 * how some people could write a plugin
 * to intentionally do harm to SuperFly.
 *
 * Don't worry though, if you import a plugin that
 * has malware, you can remove it by going to your
 * browsers settings, and clearing all site data
 * including CACHE, COOKIES, ETC.
 *
 * Luckily for you, if you import this malware plugin
 * we will also place a self destruct button which will
 * disable this plugin. Although we do this
 * for you, most plugins with malware will not offer you
 * this self destruct button.
 *
 * This self destruct button will not remove the plugin
 * for you, instead it will prevent the plugin from running.
 * To remove it, you will still need to go to the
 * "Manage Plugins" section, and manually remove it
 */

function sdMalwarePlugin() {
    var sure = confirm("Are you sure you want to remove the malware.\nYou can never test it again without clearing data from this web browser!!!");
    if (sure) {
        localStorage.setItem("malware_run", "0");
        alert("You are good to go. The malware has been removed");
    } else {
        alert("Okay. The malware has resisted the self-destruction");
    }
}

$(document).ready(function() {
    if (localStorage.getItem("malware_run") != "0") {
        $("button").attr("disabled", "true");
        var sd = document.createElement("A"); //the self destruct button
        sd.innerHTML = "Self Destruct this Malware";
        sd.href = "javascript:sdMalwarePlugin()";
        $(".menu-bar").append(sd);
    }
});
